(this["webpackJsonphtcc-web-service"]=this["webpackJsonphtcc-web-service"]||[]).push([[0],{15:function(e,t,n){e.exports=n.p+"static/media/loading.1a197dfc.gif"},19:function(e,t,n){e.exports=n(49)},49:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(11),c=n.n(i),s=(n(7),n(53)),r=n(12),l=n.n(r),d=n(13),h=n.n(d),m=n(14);var u=()=>o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{id:"notfound"},o.a.createElement("div",{className:"notfound"},o.a.createElement("div",{className:"notfound-404"},o.a.createElement("h1",null,"500")),o.a.createElement("h2",null,"H\u1ec7 th\u1ed1ng c\xf3 l\u1ed7i. Vui l\xf2ng th\u1eed l\u1ea1i sau."),o.a.createElement("p",null,"\u0110\xe3 x\u1ea3y ra l\u1ed7i khi t\u1ea3i d\u1eef li\u1ec7u. Vui l\xf2ng t\u1ea3i l\u1ea1i trang"),o.a.createElement("p",null,"ho\u1eb7c li\xean h\u1ec7 qu\u1ea3n tr\u1ecb vi\xean \u0111\u1ec3 \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3."),o.a.createElement("a",{href:"javascript:window.location.reload(true)"},"T\u1ea3i l\u1ea1i trang")))),p=n(15),f=n.n(p);const g="".concat("/api","/genqrcode");class w extends o.a.Component{constructor(e){super(e),this.setCompanyIdAndOfficeId=e=>{const t=h.a.parse(e),n=t.companyId,a=t.officeId;this.setState({companyId:n,officeId:a},()=>{this.setNewImage()})},this.setNewImage=()=>{if(this.state.error)return;this.setState({isLoading:!0});const e=this.state,t=e.companyId,n=e.officeId,a=(new Date).getTime(),o="".concat(g,"?companyId=").concat(t,"&officeId=").concat(n,"&reqDate=").concat(a);console.log("Load new QR Code at : ".concat(a,"\nURL = ").concat(o)),this.setState({url:o,nextCountdown:a+3e5})},this.state={url:"",isLoading:!0,companyId:"",officeId:"",nextCountdown:new Date,error:!1},this.setNewImage=this.setNewImage.bind(this),this.setCompanyIdAndOfficeId=this.setCompanyIdAndOfficeId.bind(this)}componentWillReceiveProps(e,t){this.props.location.search!==e.location.search&&this.setCompanyIdAndOfficeId(e.location.search)}componentDidMount(){this.setCompanyIdAndOfficeId(this.props.location.search),this.task=l.a.schedule("*/5 * * * *",()=>{this.setNewImage()},null)}render(){const e=this.state,t=e.url,n=e.nextCountdown,a=e.error,i=e.isLoading;return a?o.a.createElement(u,null):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",null,o.a.createElement("img",{src:f.a,style:{display:i?"block":"none"},className:"center-div",alt:"loading"}),o.a.createElement("img",{alt:"qrcode",style:{display:i?"none":"block"},className:"center-div",src:t,onLoad:e=>{this.setState({isLoading:!1})},onError:e=>{this.task.destroy(),this.setState({error:!0})}})),o.a.createElement("div",{className:"countdown",style:{display:i?"none":"block"}},o.a.createElement(m.a,{date:n})))}}var v=Object(s.a)(w);const I=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function y(e,t){navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=()=>{const n=e.installing;n.onstatechange=()=>{"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))}}}).catch(e=>{console.error("Error during service worker registration:",e)})}var E=n(52),b=n(51);c.a.render(o.a.createElement(E.a,null,o.a.createElement("div",null,o.a.createElement(b.a,{exact:!0,path:"/genqrcode",component:v}))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",()=>{const t="".concat("","/service-worker.js");I?(!function(e,t){fetch(e).then(n=>{404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):y(e,t)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):y(t,e)})}}()},7:function(e,t,n){}},[[19,1,2]]]);
//# sourceMappingURL=main.a033ae44.chunk.js.map