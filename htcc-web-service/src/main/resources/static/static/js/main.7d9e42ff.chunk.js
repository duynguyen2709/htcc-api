(this["webpackJsonphtcc-web-service"]=this["webpackJsonphtcc-web-service"]||[]).push([[0],{18:function(e,t,n){e.exports=n(48)},48:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),i=n(11),c=n.n(i),r=(n(7),n(52)),s=n(12),l=n.n(s),d=n(13),h=n.n(d),u=n(14);var m=()=>a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{id:"notfound"},a.a.createElement("div",{className:"notfound"},a.a.createElement("div",{className:"notfound-404"},a.a.createElement("h1",null,"500")),a.a.createElement("h2",null,"H\u1ec7 th\u1ed1ng c\xf3 l\u1ed7i. Vui l\xf2ng th\u1eed l\u1ea1i sau."),a.a.createElement("p",null,"\u0110\xe3 x\u1ea3y ra l\u1ed7i khi t\u1ea3i d\u1eef li\u1ec7u. Vui l\xf2ng t\u1ea3i l\u1ea1i trang"),a.a.createElement("p",null,"ho\u1eb7c li\xean h\u1ec7 qu\u1ea3n tr\u1ecb vi\xean \u0111\u1ec3 \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3."),a.a.createElement("a",{href:"javascript:window.location.reload(true)"},"T\u1ea3i l\u1ea1i trang"))));const f="https://i.redd.it/6eqdnsnk9vwx.gif",p="".concat("/api","/genqrcode");class g extends a.a.Component{constructor(e){super(e),this.setCompanyIdAndOfficeId=e=>{const t=h.a.parse(e),n=t.companyId,o=t.officeId;this.setState({companyId:n,officeId:o},()=>{this.setNewImage()})},this.setNewImage=()=>{if(this.state.error)return;this.setState({url:f});const e=this.state,t=e.companyId,n=e.officeId,o=(new Date).getTime(),a="".concat(p,"?companyId=").concat(t,"&officeId=").concat(n,"&reqDate=").concat(o);console.log("Load new QR Code at : ".concat(o,"\nURL = ").concat(a)),this.setState({url:a,nextCountdown:o+3e5})},this.state={url:f,isLoading:!1,companyId:"",officeId:"",nextCountdown:new Date,error:!1},this.setNewImage=this.setNewImage.bind(this),this.setCompanyIdAndOfficeId=this.setCompanyIdAndOfficeId.bind(this)}componentWillReceiveProps(e,t){this.props.location.search!==e.location.search&&this.setCompanyIdAndOfficeId(e.location.search)}componentDidMount(){this.setCompanyIdAndOfficeId(this.props.location.search),this.task=l.a.schedule("*/5 * * * *",()=>{this.setNewImage()},null)}render(){const e=this.state,t=e.url,n=e.nextCountdown;return e.error?a.a.createElement(m,null):a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,a.a.createElement("img",{alt:"qrcode",className:"center-div",src:t,onError:e=>{this.task.destroy(),this.setState({error:!0})}})),a.a.createElement("div",{className:"countdown"},a.a.createElement(u.a,{date:n})))}}var w=Object(r.a)(g);const v=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function I(e,t){navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=()=>{const n=e.installing;n.onstatechange=()=>{"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))}}}).catch(e=>{console.error("Error during service worker registration:",e)})}var E=n(51),y=n(50);c.a.render(a.a.createElement(E.a,null,a.a.createElement("div",null,a.a.createElement(y.a,{exact:!0,path:"/genqrcode",component:w}))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",()=>{const t="".concat("","/service-worker.js");v?(!function(e,t){fetch(e).then(n=>{404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):I(e,t)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):I(t,e)})}}()},7:function(e,t,n){}},[[18,1,2]]]);
//# sourceMappingURL=main.7d9e42ff.chunk.js.map